<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Produce Origin Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="script.js"></script>
</head>
<body>
    <h1>Produce Origin Tracker</h1>
    
    <div class="store-info-section">
        <h2>Store Information</h2>
        <div class="store-info-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="storeName">Grocery Store Name:</label>
                    <input type="text" id="storeName" placeholder="Enter store name">
                </div>
                <div class="form-group">
                    <label for="collectionDate">Collection Date:</label>
                    <input type="date" id="collectionDate">
                </div>
            </div>
            <button onclick="updateStoreInfo()">Save Store Information</button>
        </div>
    </div>
    
    <div class="container">
        <div class="input-section">
            <h2>Countries</h2>
            <div class="country-list" id="countryList"></div>
            
            <div class="add-country">
                <h3>Add New Country</h3>
                <div class="add-country-row">
                    <div class="autocomplete">
                        <input type="text" id="newCountry" placeholder="Type a country name">
                    </div>
                    <button onclick="addNewCountry()">Add</button>
                </div>
            </div>
        </div>
        
        <div class="chart-section">
            <h2 id="chartTitle">Where do our fruits come from?</h2>
            <div style="position: relative; width: 100%;">
                <canvas id="pieChart"></canvas>
            </div>
            
            <div class="download-buttons">
                <button class="download-button" onclick="downloadImage()">
                    <svg class="download-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" fill="currentColor"></path>
                    </svg>
                    Download as Image
                </button>
                <button class="download-button" onclick="downloadChartCSV()">
                    <svg class="download-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" fill="currentColor"></path>
                    </svg>
                    Download Chart Data as CSV
                </button>
                <button class="download-button" onclick="downloadCountryCSV()">
                    <svg class="download-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" fill="currentColor"></path>
                    </svg>
                    Download Country Data as CSV
                </button>
                <button class="submit-button" onclick="submitToGoogleForm()">
                    <svg class="submit-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" fill="currentColor"></path>
                    </svg>
                    Submit Data to Research Team
                </button>
            </div>
        </div>
    </div>
    
    <section class="report-section">
        <h2>Produce Origin Reports</h2>
        
        <article class="report-article">
            <h3>Monthly Produce Origin Report</h3>
            <p>Our analysis of produce origins shows significant regional variations across different seasons. This information helps us understand supply chains and make informed decisions about sustainable sourcing.</p>
            
            <figure class="report-figure">
                <img src="path/to/your-pie-chart.png" alt="Produce Origin Distribution" class="responsive-image framed-image">
                <figcaption>Figure 1: Distribution of produce origins at Whole Foods, March 2025</figcaption>
            </figure>
            
            <p>As shown in Figure 1, the majority of our produce during March came from South and Central America, reflecting seasonal growing patterns. This distribution helps us identify opportunities to reduce food miles and increase local sourcing where possible.</p>
            
            <div class="report-notes">
                <h4>How to Add Your Own Charts to Reports:</h4>
                <ol>
                    <li>Use the Produce Origin Tracker above to create your chart</li>
                    <li>Download the chart as an image using the "Download as Image" button</li>
                    <li>Replace the placeholder image path in the HTML code below with the path to your downloaded image</li>
                    <li>Update the figure caption to reflect your store name and date</li>
                </ol>
                
                <div class="code-example">
                    <h5>Sample HTML Code:</h5>
                    <pre><code>&lt;figure class="report-figure"&gt;
    &lt;img src="produce_origin_chart.png" alt="Produce Origin Distribution" class="responsive-image framed-image"&gt;
    &lt;figcaption&gt;Figure 1: Distribution of produce origins at [Your Store], [Date]&lt;/figcaption&gt;
&lt;/figure&gt;</code></pre>
                </div>
            </div>
        </article>
        
        <article class="report-article">
            <h3>Comparing Stores Across Regions</h3>
            <p>Comparing produce origins between different store locations can reveal interesting patterns about regional supply chains and consumer preferences.</p>
            
            <div class="chart-gallery">
                <figure class="report-figure">
                    <img src="path/to/sample-chart-1.png" alt="Urban Store Distribution" class="responsive-image framed-image">
                    <figcaption>Figure 2: Produce origins at an urban location</figcaption>
                </figure>
                
                <figure class="report-figure">
                    <img src="path/to/sample-chart-2.png" alt="Rural Store Distribution" class="responsive-image framed-image">
                    <figcaption>Figure 3: Produce origins at a rural location</figcaption>
                </figure>
            </div>
            
            <p>The comparison above illustrates how urban and rural stores may have different sourcing patterns. Urban stores often show greater international diversity, while rural stores may have higher percentages of locally-sourced produce.</p>
        </article>
    </section>
    
    <footer>
        <p>Â© 2025 Produce Origin Tracker | <a href="https://forms.gle/zbGN1pfvrbRtNryZ7" target="_blank">Submit Research Data</a></p>
    </footer>
</body>
</html>